import * as cheerio from "cheerio";

import { SongRecord } from "@/app/types/type";

export default function parseItems(html: string) {
  const $ = cheerio.load(html);
  const items: SongRecord[] = [];

  $("#BoardType1 > table > tbody > tr").each((index, element) => {
    if (index > 0) {
      const td = $(element).find("td");
      const item = {
        songNumber: $(td[0]).text().trim(),
        title: $(td[1]).text().trim(),
        artist: $(td[2]).text().trim(),
        lyricist: $(td[3]).text().trim(), // 작사
        composer: $(td[4]).text().trim(), // 작곡
      };
      items.push(item);
    }
  });

  return items;
}
